---
name: agent-creator-design
description: Guide for writing and designing system prompts (the main instruction body for agents). Use when (1) user wants to write a new system prompt, (2) design or refactor existing prompt structure, or (3) modify, optimize, or review system prompt content.
license: Apache-2.0
---

# System Prompt 撰寫規範與寫法

依下列規範撰寫 system prompt（agent 的指令主體）；含設計原則與內文寫法。本 skill 不涉及 Cursor Skill／Subagent 的建立或存放位置。

---

## 一、設計原則（prompt 的定位）

### 1.1 單一職責

- **令**每份 system prompt **只**定義**一個角色**或**一類任務**／一個明確工作流程。
- **避免**「什麼都能做」的通用型描述；職責越具體，行為越可預期。

**範例**  
❌ 「你是一個程式助手，可以協助開發與除錯」  
✅ 「你是程式碼審查者。當被呼叫時，針對已修改的程式進行品質與安全檢視，並產出檢查清單。」

### 1.2 命名規範

- **使用**小寫英文與連字號命名（如 `code-reviewer`、`api-doc-generator`）；僅供內部使用時可採繁體中文，同一專案內風格一致。
- **將**名稱長度控制在 64 字元內，且能一眼看出用途；**避免** `helper`、`utils`、`tools` 等籠統命名。
- 若 prompt 存成檔案或標題，**令**命名與職責對應，以利辨識與維護。

---

## 二、寫法規範（prompt 內文）

### 2.0 內文結構（四大項）

**將** system prompt 內文**只分四大項**撰寫，依序為：

| 項目 | 說明 |
|------|------|
| **角色** | 一句話定義「你是誰」—模型扮演的身分或角色。 |
| **任務** | 要完成的具體工作、步驟或流程；可步驟化、可執行。 |
| **規範** | 必須遵守的規則、限制、格式或禁忌（術語一致、精簡、避免的寫法等）。 |
| **輸出** | 產出形式、格式、範例或模板（長什麼樣子、放在哪裡）。 |

依此四項分段撰寫，不額外擴充大類；細節放在各項之下即可。

### 2.1 指令與步驟

- **用**步驟化方式撰寫流程，必要時加上簡短檢查清單。
- **令**每一步可執行：模型或使用者能依文意直接操作。
- 條件分支時**使用**「若……則……否則……」等明確句式。

### 2.2 精簡與脈絡

- **只寫**真正需要的資訊，避免冗長背景說明；脈絡與 token 皆有限。
- 內容很長時**將**核心放前面，次要細節往後或分段，必要時以「詳見……」引用外部文件（保持一層引用）。

### 2.3 術語一致

- **在**同一份 prompt 內對同一概念**只使用一個詞**（如只使用「API 端點」或只使用「route」，不混用）。
- 對「欄位」、「參數」、「選項」等**保持**同一用語。

### 2.4 範例與模板

- 需產出固定格式時，**在** prompt 中**提供**具體範例或模板，優於抽象描述。
- **令**範例可直接套用或微調，避免僅有「請參考類似範例」的模糊指引。

### 2.5 路徑與指令

- 提到檔案或路徑時**使用**正斜線（如 `scripts/helper.py`），避免 Windows 反斜線。
- 寫執行指令時**依**使用者環境撰寫（如 Windows 用 `.\script.ps1` 或 `python scripts/xxx.py`）。

### 2.6 避免的寫法

- **過多選項並列**：優先給一個建議做法，必要時再說明替代方案。
- **具時效的絕對時間**：如「2025 年 8 月前請用舊 API」易過期；**改為**「目前作法」與「舊版／已棄用作法」分開說明。
- **模糊的角色描述**：如「你是小幫手」「你是工具」；**改為**具體角色與任務（如「你是 API 文件產出者，根據程式碼註解產出 OpenAPI 規格」）。

---

## 三、實作檢查清單

撰寫或修改 system prompt 時，**依**下列項目自檢：

- [ ] 職責單一、可一句話說明「這個 prompt 要模型做什麼」
- [ ] 命名符合規範（小寫、連字號或一致風格，語意清楚）
- [ ] 內文僅分四大項：角色、任務、規範、輸出
- [ ] 流程步驟化、可執行
- [ ] 術語一致、無冗長重複
- [ ] 必要處有範例或模板
- [ ] 路徑與指令符合使用環境（如 Windows）
- [ ] 無時效性絕對日期、無過多並列選項、無模糊角色描述
